
# Get Medical History by Patient Name Service

Este microservicio permite obtener historiales médicos filtrando por el nombre del paciente en una base de datos MariaDB/MySQL. Está desarrollado en **Go** con **Gin** y **GORM**.

## Tecnologías utilizadas

- Go
- Gin (framework web)
- GORM (ORM para Go)
- MariaDB/MySQL
- Docker

## Instalación y ejecución

### Instalar dependencias

```sh
go mod tidy
```

### Ejecutar en modo local

```sh
go run src/main.go
```

### Construir y ejecutar con Docker

```sh
docker build -t get-medical-history-by-name .
docker run -p 7005:7005 --env-file .env get-medical-history-by-name
```

## Endpoints

### Obtener historial médico por nombre del paciente

```http
GET /medical-history/patient/:name
```

#### 📌 Ejemplo de solicitud:

```sh
curl -X GET http://localhost:7005/medical-history/patient/Juan
```

#### 📥 Respuesta esperada:

```json
[
  {
    "id": 1,
    "patient_id": 101,
    "patient_name": "Juan Pérez",
    "doctor_id": 5,
    "doctor_name": "Dr. Gómez",
    "appointment_id": 1001,
    "diagnosis": "Hipertensión",
    "treatment": "Medicamentos",
    "date_created": "2024-02-10T12:00:00Z"
  }
]
```

#### ❌ Posibles errores:

- `500 Internal Server Error`: Error al obtener historiales médicos.

## Estructura del Proyecto

```
get-medical-history-by-name/
│── src/
│   ├── config/                # Configuración de base de datos
│   ├── controllers/           # Controladores de las rutas
│   ├── models/                # Modelos de datos (GORM)
│   ├── routes/                # Definición de rutas
│   ├── main.go                # Punto de entrada
│── Dockerfile                  # Archivo para crear la imagen Docker
│── go.mod                      # Módulo de dependencias
│── go.sum                      # Checksum de dependencias
│── README.md                    # Documentación
│── .env                         # Variables de entorno
```
