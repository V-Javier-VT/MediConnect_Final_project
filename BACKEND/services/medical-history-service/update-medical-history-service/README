
# Update Medical History Service

Este microservicio permite actualizar historiales mÃ©dicos en una base de datos MariaDB/MySQL. EstÃ¡ desarrollado en **Go** con **Gin** y **GORM**.

## TecnologÃ­as utilizadas

- Go
- Gin (framework web)
- GORM (ORM para Go)
- MariaDB/MySQL
- Docker


### Instalar dependencias

```sh
go mod tidy
```

### Ejecutar en modo local

```sh
go run src/main.go
```

### Construir y ejecutar con Docker

```sh
docker build -t update-medical-history-service .
docker run -p 7003:7003 --env-file .env update-medical-history-service
```

## Endpoints

### Actualizar historial mÃ©dico

```http
PUT /medical-history/:id
```

#### ğŸ“Œ Ejemplo de solicitud:

```sh
curl -X PUT http://localhost:7003/medical-history/1 \
  -H "Content-Type: application/json" \
  -d '{
    "patient_id": 101,
    "patient_name": "Juan PÃ©rez",
    "doctor_id": 5,
    "doctor_name": "Dr. GÃ³mez",
    "appointment_id": 1001,
    "diagnosis": "HipertensiÃ³n",
    "treatment": "Medicamentos"
  }'
```

#### ğŸ“¥ Respuesta esperada:

```json
{
  "message": "Historial mÃ©dico actualizado correctamente"
}
```

#### âŒ Posibles errores:

- `400 Bad Request`: Datos invÃ¡lidos o ID incorrecto.
- `404 Not Found`: El historial mÃ©dico no existe.
- `500 Internal Server Error`: Error en la base de datos.

## Estructura del Proyecto

```
update-medical-history-service/
â”‚â”€â”€ src/
â”‚   â”œâ”€â”€ config/                # ConfiguraciÃ³n de base de datos
â”‚   â”œâ”€â”€ controllers/           # Controladores de las rutas
â”‚   â”œâ”€â”€ models/                # Modelos de datos (GORM)
â”‚   â”œâ”€â”€ routes/                # DefiniciÃ³n de rutas
â”‚   â”œâ”€â”€ main.go                # Punto de entrada
â”‚â”€â”€ Dockerfile                  # Archivo para crear la imagen Docker
â”‚â”€â”€ go.mod                      # MÃ³dulo de dependencias
â”‚â”€â”€ go.sum                      # Checksum de dependencias
â”‚â”€â”€ README.md                    # DocumentaciÃ³n
â”‚â”€â”€ .env                         # Variables de entorno
```


